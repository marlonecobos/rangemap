<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>rangemap short tutorial IV • rangemap</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="rangemap short tutorial IV">
<meta property="og:description" content="rangemap">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rangemap</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.18</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/rangemap_short_tutorial_I.html">rangemap short tutorial I</a>
    </li>
    <li>
      <a href="../articles/rangemap_short_tutorial_II.html">rangemap short tutorial II</a>
    </li>
    <li>
      <a href="../articles/rangemap_short_tutorial_III.html">rangemap short tutorial III</a>
    </li>
    <li>
      <a href="../articles/rangemap_short_tutorial_IV.html">rangemap short tutorial IV</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/marlonecobos/rangemap/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="rangemap_short_tutorial_IV_files/header-attrs-2.8/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>rangemap short tutorial IV</h1>
                        <h4 class="author">Marlon E. Cobos, Vijay Barve, Narayani Barve, Alberto Jiménez-Valverde, and Claudia Nuñez-Penichet</h4>
            
            <h4 class="date">2021-09-03</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/marlonecobos/rangemap/blob/master/vignettes/rangemap_short_tutorial_IV.Rmd"><code>vignettes/rangemap_short_tutorial_IV.Rmd</code></a></small>
      <div class="hidden name"><code>rangemap_short_tutorial_IV.Rmd</code></div>

    </div>

    
    
<p><img src="vignette_img/rangemap100dpi.png" align="right" height="139"></p>
<div id="figures-with-rangemap" class="section level2">
<h2 class="hasAnchor">
<a href="#figures-with-rangemap" class="anchor"></a>Figures with rangemap</h2>
<p>If you haven’t seen the rangemap <a href="rangemap_short_tutorial_I.html">short tutorial I</a>, <a href="rangemap_short_tutorial_II.html">short tutorial II</a>, and <a href="rangemap_short_tutorial_III.html">short tutorial III</a>, take a look at them for more background on the <strong>rangemap</strong> R package.</p>
<p>In this example we will explore three functions of this package that allow the users to create species range maps using the outputs of the functions <em>rangemap_boundaries</em>, <em>rangemap_buffer</em>, <em>rangemap_enm</em>, <em>rangemap_hull</em>, and <em>rangemap_tsa</em>.</p>
<div id="species-distribution-ranges-using-three-distinct-algorithms" class="section level3">
<h3 class="hasAnchor">
<a href="#species-distribution-ranges-using-three-distinct-algorithms" class="anchor"></a>Species distribution ranges using three distinct algorithms</h3>
<p><strong>Species range based on buffers</strong></p>
<p>The function <em>rangemap_buffer</em> generates a distributional range for a given species by buffering provided occurrences using a defined distance. See the function’s help for more details.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Getting the data</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"occ_d"</span>, package <span class="op">=</span> <span class="st">"rangemap"</span><span class="op">)</span>

<span class="co"># Defining parameters</span>
<span class="va">dist</span> <span class="op">&lt;-</span> <span class="fl">100000</span> <span class="co"># buffer distance in meters</span>

<span class="co"># Now we can create the species range based on buffers</span>
<span class="va">buff_range</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rangemap_buffer.html">rangemap_buffer</a></span><span class="op">(</span>occurrences <span class="op">=</span> <span class="va">occ_d</span>, buffer_distance <span class="op">=</span> <span class="va">dist</span><span class="op">)</span></code></pre></div>
<p><strong>Species range based on convex hulls</strong></p>
<p>With the <em>rangemap_hull</em> function we can generate a distributional range for a given species by buffering provided occurrences using a defined distance. See the function’s help for more details.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Defining parameters</span>
<span class="va">dist</span> <span class="op">&lt;-</span> <span class="fl">100000</span>
<span class="va">hull</span> <span class="op">&lt;-</span> <span class="st">"convex"</span>

<span class="co"># Now we can create the species range based on administrative areas</span>
<span class="va">hull_range</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rangemap_hull.html">rangemap_hull</a></span><span class="op">(</span>occurrences <span class="op">=</span> <span class="va">occ_d</span>, hull_type <span class="op">=</span> <span class="va">hull</span>, 
                            buffer_distance <span class="op">=</span> <span class="va">dist</span><span class="op">)</span></code></pre></div>
<p><strong>Species range based on concave hulls</strong></p>
<p>The function <em>rangemap_hull</em> generates a distributional range for a given species based on provided occurrences and two distinct type of hulls, convex and concave. See the function’s help for more details.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Defining parameters</span>
<span class="va">dist</span> <span class="op">&lt;-</span> <span class="fl">200000</span>
<span class="va">hull</span> <span class="op">&lt;-</span> <span class="st">"concave"</span>

<span class="co"># Now we can create the species range based on administrative areas</span>
<span class="va">hull_range1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rangemap_hull.html">rangemap_hull</a></span><span class="op">(</span>occurrences <span class="op">=</span> <span class="va">occ_d</span>, hull_type <span class="op">=</span> <span class="va">hull</span>, 
                             buffer_distance <span class="op">=</span> <span class="va">dist</span><span class="op">)</span></code></pre></div>
<p><strong>Now the figure of our results</strong></p>
<p>The other one with the potential extent of occurrence, the species occurrences and other map details. But let’s first define the characteristics we want in the figure.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="co"># optional, reduces the margins of the figure</span>
<span class="fu"><a href="../reference/rangemap_plot.html">rangemap_plot</a></span><span class="op">(</span><span class="va">buff_range</span>, add_occurrences <span class="op">=</span> <span class="cn">TRUE</span>, 
             northarrow <span class="op">=</span> <span class="cn">TRUE</span>, range_color <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span>
<span class="fu"><a href="../reference/rangemap_plot.html">rangemap_plot</a></span><span class="op">(</span><span class="va">buff_range</span><span class="op">)</span>
<span class="fu"><a href="../reference/rangemap_plot.html">rangemap_plot</a></span><span class="op">(</span><span class="va">hull_range</span><span class="op">)</span>
<span class="fu"><a href="../reference/rangemap_plot.html">rangemap_plot</a></span><span class="op">(</span><span class="va">hull_range1</span>, legend <span class="op">=</span> <span class="cn">TRUE</span>, legend_position <span class="op">=</span> <span class="st">"bottomleft"</span><span class="op">)</span></code></pre></div>
<p><img src="vignette_img/VIV_dc1.png" width="144"><img src="vignette_img/VIV_dc2.png" width="144"><img src="vignette_img/VIV_dc3.png" width="144"><img src="vignette_img/VIV_dc4.png" width="144"></p>
</div>
<div id="species-distribution-ranges-on-environmental-maps" class="section level3">
<h3 class="hasAnchor">
<a href="#species-distribution-ranges-on-environmental-maps" class="anchor"></a>Species distribution ranges on environmental maps</h3>
<p>The function <em>ranges_emaps</em> represents one or more ranges of the same species on various maps of environmental factors (e.g., climatic variables) to detect implications of using one or other type of range regarding the environmental conditions in the areas.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Adding parameters</span>
<span class="va">vars</span> <span class="op">&lt;-</span> <span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/stack.html">stack</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"variables.tif"</span>,
                                  package <span class="op">=</span> <span class="st">"rangemap"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/names.html">names</a></span><span class="op">(</span><span class="va">vars</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"bio5"</span>, <span class="st">"bio6"</span>, <span class="st">"bio13"</span>, <span class="st">"bio14"</span><span class="op">)</span>

<span class="co"># Plotting</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/ranges_emaps.html">ranges_emaps</a></span><span class="op">(</span><span class="va">buff_range</span>, <span class="va">hull_range</span>, <span class="va">hull_range1</span>, variables <span class="op">=</span> <span class="va">vars</span><span class="op">)</span></code></pre></div>
<p><img src="vignette_img/VIV_ranges_g.png" width="336"></p>
</div>
<div id="species-distribution-ranges-in-environmental-space" class="section level3">
<h3 class="hasAnchor">
<a href="#species-distribution-ranges-in-environmental-space" class="anchor"></a>Species distribution ranges in environmental space</h3>
<p>The function <em>ranges_espace</em> generates a three dimensional comparison of a species’ ranges created using distinct algorithms, to visualize implications of selecting one of them if environmental conditions are considered.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># For avoiding too much complexity we will use only two of the previous ranges</span>
<span class="co"># comparison</span>
<span class="fu"><a href="../reference/ranges_espace.html">ranges_espace</a></span><span class="op">(</span><span class="va">buff_range</span>, <span class="va">hull_range</span>, variables <span class="op">=</span> <span class="va">vars</span>, do_pca <span class="op">=</span> <span class="cn">TRUE</span>, 
              add_occurrences <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="vignette_img/VIV_ranges_e1.png" width="308"></p>
<p>Now let’s create the same figure but with the three ranges and distinct colors.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ranges_espace.html">ranges_espace</a></span><span class="op">(</span><span class="va">buff_range</span>, <span class="va">hull_range</span>, <span class="va">hull_range1</span>, variables <span class="op">=</span> <span class="va">vars</span>, do_pca <span class="op">=</span> <span class="cn">TRUE</span>,
              range_colors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"gray1"</span>, <span class="st">"blue"</span>, <span class="st">"red"</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span></code></pre></div>
<p><img src="vignette_img/VIV_ranges_e2.png" width="308"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Marlon E. Cobos, Vijay Barve, Narayani Barve, Alberto Jimenez-Valverde, Claudia Nuñez-Penichet.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
