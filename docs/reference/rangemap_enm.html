<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Species distributional ranges based on ENMs/SDMs outputs — rangemap_enm • rangemap</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Species distributional ranges based on ENMs/SDMs outputs — rangemap_enm" />
<meta property="og:description" content="rangemap_enm generates a distributional range for a given species
using a continuous raster layer produced using ecological niche modeling or
species distribution modeling tools. This function binarizes the model in
suitable and unsuitable areas using a user specified level of omission or a
given threshold value. Optionally, representations of the species extent of
occurrence (using convex hulls) and the area of occupancy according to the
IUCN criteria can also be generated. Shapefiles can be saved in the working
directory if it is needed." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rangemap</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.18</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/rangemap_short_tutorial_I.html">rangemap short tutorial I</a>
    </li>
    <li>
      <a href="../articles/rangemap_short_tutorial_II.html">rangemap short tutorial II</a>
    </li>
    <li>
      <a href="../articles/rangemap_short_tutorial_III.html">rangemap short tutorial III</a>
    </li>
    <li>
      <a href="../articles/rangemap_short_tutorial_IV.html">rangemap short tutorial IV</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/marlonecobos/rangemap/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Species distributional ranges based on ENMs/SDMs outputs</h1>
    <small class="dont-index">Source: <a href='https://github.com/marlonecobos/rangemap/blob/master/R/rangemap_enm.R'><code>R/rangemap_enm.R</code></a></small>
    <div class="hidden name"><code>rangemap_enm.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>rangemap_enm generates a distributional range for a given species
using a continuous raster layer produced using ecological niche modeling or
species distribution modeling tools. This function binarizes the model in
suitable and unsuitable areas using a user specified level of omission or a
given threshold value. Optionally, representations of the species extent of
occurrence (using convex hulls) and the area of occupancy according to the
IUCN criteria can also be generated. Shapefiles can be saved in the working
directory if it is needed.</p>
    </div>

    <pre class="usage"><span class='fu'>rangemap_enm</span><span class='op'>(</span><span class='va'>model_output</span>, occurrences <span class='op'>=</span> <span class='cn'>NULL</span>, threshold_value <span class='op'>=</span> <span class='cn'>NULL</span>,
             threshold_omission <span class='op'>=</span> <span class='cn'>NULL</span>, min_polygon_area <span class='op'>=</span> <span class='fl'>0</span>,
             simplify <span class='op'>=</span> <span class='cn'>FALSE</span>, simplify_level <span class='op'>=</span> <span class='fl'>0</span>, polygons <span class='op'>=</span> <span class='cn'>NULL</span>,
             extent_of_occurrence <span class='op'>=</span> <span class='cn'>TRUE</span>, area_of_occupancy <span class='op'>=</span> <span class='cn'>TRUE</span>,
             final_projection <span class='op'>=</span> <span class='cn'>NULL</span>, save_shp <span class='op'>=</span> <span class='cn'>FALSE</span>, <span class='va'>name</span>,
             overwrite <span class='op'>=</span> <span class='cn'>FALSE</span>, verbose <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>model_output</th>
      <td><p>a RasterLayer of suitability for the species of interest
generated using a ENM or SDM algorithm, that will be binarized using the a
user-defined <code>threshold_value</code> or a value calculated based on a percentage
of omission (0 - 100) defined in <code>threshold_omission</code>. If the layer is
projected, this projection must be WGS84 (EPSG:4326); if not projected, WGS84
projection will be assigned for the analysis.</p></td>
    </tr>
    <tr>
      <th>occurrences</th>
      <td><p>a data.frame containing geographic coordinates of species
occurrences, columns must be: Species, Longitude, and Latitude. Geographic
coordinates must be in decimal degrees. <code>occurrences</code> may not be defined,
but if so, <code>threshold_value</code> must be defined. Default = <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>threshold_value</th>
      <td><p>(numeric) value used for reclassifying the
<code>model_output</code>. This value will be the lowest considered as suitable for
the species and must be inside the range of values present in <code>model_output</code>.
If defined, <code>threshold_omission</code> will be ignored. If <code>occurrences</code>
is not defined, this parameter is required. Default = <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>threshold_omission</th>
      <td><p>(numeric) percentage of occurrence records to be
excluded from suitable areas considering their values of suitability in the
continuous model (e.g., 0, 5, or 10). Ignored if <code>threshold_value</code> is
provided. Default = <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>min_polygon_area</th>
      <td><p>(numeric) minimum area of polygons that will be kept
as part of the species ranges after defining suitable areas and convert
raster layer to polygon. Default = 0. A value of 0 will keep all polygons.</p></td>
    </tr>
    <tr>
      <th>simplify</th>
      <td><p>(logical) if <code>TRUE</code>, polygons of suitable areas will be
simplified at a tolerance defined in <code>simplify_level</code>. Default =
<code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>simplify_level</th>
      <td><p>(numeric) tolerance to consider when simplifying polygons
created from suitable areas in <code>model_output</code>. Lower values will produce
polygons more similar to the original geometry. Default = 0. If simplifying is
needed, try numbers 0-1 first. Ignored if <code>simplify</code> = <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>polygons</th>
      <td><p>(optional) a SpatialPolygons* object to clip polygons and
adjust extent of occurrence to these limits. Projection must be WGS84
(EPSG:4326). If <code>NULL</code>, the default, a simplified world map will be used.</p></td>
    </tr>
    <tr>
      <th>extent_of_occurrence</th>
      <td><p>(logical) whether to obtain the extent of occurrence
of the species based on a simple convex hull polygon; default = <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>area_of_occupancy</th>
      <td><p>(logical) whether to obtain the area of occupancy
of the species based on a simple grid of 4 km^2 resolution;
default = <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>final_projection</th>
      <td><p>(character) string of projection arguments for
resulting Spatial objects. Arguments must be as in the PROJ.4 documentation.
See <code><a href='https://rdrr.io/pkg/sp/man/CRS-class.html'>CRS-class</a></code> for details. If <code>NULL</code>, the default,
projection used is WGS84 (EPSG:4326).</p></td>
    </tr>
    <tr>
      <th>save_shp</th>
      <td><p>(logical) if <code>TRUE</code>, shapefiles of the species range,
occurrences, extent of occurrence, and area of occupancy will be written in
the working directory. Default = <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>(character) valid if <code>save_shp</code> = <code>TRUE</code>. The name of
the shapefile to be exported. A suffix will be added to <code>name</code> depending
on the object, as follows: species extent of occurrence = "_extent_occ", area
of occupancy = "_area_occ", and occurrences = "_unique_records".</p></td>
    </tr>
    <tr>
      <th>overwrite</th>
      <td><p>(logical) whether or not to overwrite previous results with
the same name. Default = <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>(logical) whether or not to print messages about the process.
Default = TRUE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>If <code>occurrences</code> and <code>threshold_omission</code> are defined, a  sp_range
object (S4) containing: (1) a data.frame with information about the species
range, and Spatial objects of (2) unique occurrences, (3) species range,
(4) extent of occurrence, and (5) area of occupancy.</p>
<p>If instead of <code>occurrences</code> and <code>threshold_omission</code>,
<code>threshold_value</code> is provided, the result will be a sp_range object
(S4) of two elements: (1) a data.frame with information about the species
range, and (2) a SpatialPolygons object of the species range.</p>
<p>If <code>extent_of_occurrence</code> and/or <code>area_of_occupancy</code> = <code>FALSE</code>,
the corresponding spatial objects in the resulting sp_range object will be
empty, an areas will have a value of 0.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>All resulting Spatial objects in the list of results will be projected to the
<code>final_projection</code>. Areas are calculated in square kilometers using the
Lambert Azimuthal Equal Area projection, centered on the centroid of occurrence
points given as inputs or, if points are not provided, the resulting range.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='co'># parameters</span>
<span class='va'>sp_mod</span> <span class='op'>&lt;-</span> <span class='fu'>raster</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/raster.html'>raster</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.files.html'>list.files</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"extdata"</span>, package <span class='op'>=</span> <span class='st'>"rangemap"</span><span class='op'>)</span>,
                                    pattern <span class='op'>=</span> <span class='st'>"sp_model"</span>, full.names <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"occ_train"</span>, package <span class='op'>=</span> <span class='st'>"rangemap"</span><span class='op'>)</span>

<span class='va'>thres</span> <span class='op'>&lt;-</span> <span class='fl'>5</span>
<span class='va'>save</span> <span class='op'>&lt;-</span> <span class='cn'>TRUE</span>
<span class='va'>name</span> <span class='op'>&lt;-</span> <span class='st'>"test"</span>

<span class='va'>enm_range</span> <span class='op'>&lt;-</span> <span class='fu'>rangemap_enm</span><span class='op'>(</span>model_output <span class='op'>=</span> <span class='va'>sp_mod</span>, occurrences <span class='op'>=</span> <span class='va'>occ_train</span>,
                          threshold_omission <span class='op'>=</span> <span class='va'>thres</span><span class='op'>)</span>

<span class='fu'><a href='summary.html'>summary</a></span><span class='op'>(</span><span class='va'>enm_range</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt;                       Summary of sp_range_iucn object
#&gt; ---------------------------------------------------------------------------
#&gt; 
#&gt; Species range derived from:	ENM 
#&gt; 
#&gt;               Species Unique_records Range_area Extent_of_occurrence
#&gt;  Amblyomma_americanum             89    2824883              3535078
#&gt;  Area_of_occupancy
#&gt;                356
#&gt; 
#&gt; 
#&gt; 
#&gt; Other contents:
#&gt; </div><div class='output co'>#&gt;                        Length Class                    Mode
#&gt; species_range          11     SpatialPolygonsDataFrame S4  
#&gt; species_unique_records 89     SpatialPointsDataFrame   S4  
#&gt; extent_of_occurrence    1     SpatialPolygonsDataFrame S4  
#&gt; area_of_occupancy      89     SpatialPolygonsDataFrame S4  </div><div class='input'><span class='co'># }</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Marlon E. Cobos, Vijay Barve, Narayani Barve, Alberto Jimenez-Valverde, Claudia Nuñez-Penichet.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


