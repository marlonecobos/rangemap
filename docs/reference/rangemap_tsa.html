<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Species distributional ranges based on trend surface analyses — rangemap_tsa • rangemap</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Species distributional ranges based on trend surface analyses — rangemap_tsa" />
<meta property="og:description" content="rangemap_tsa generates a distributional range for a given species
using a trend surface analysis. An approach to the species extent of occurrence
(using convex hulls) and the area of occupancy according to the IUCN criteria
is also generated. Shapefiles can be saved in the working directory if it is
needed." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rangemap</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.18</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/rangemap_short_tutorial_I.html">rangemap short tutorial I</a>
    </li>
    <li>
      <a href="../articles/rangemap_short_tutorial_II.html">rangemap short tutorial II</a>
    </li>
    <li>
      <a href="../articles/rangemap_short_tutorial_III.html">rangemap short tutorial III</a>
    </li>
    <li>
      <a href="../articles/rangemap_short_tutorial_IV.html">rangemap short tutorial IV</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/marlonecobos/rangemap/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Species distributional ranges based on trend surface analyses</h1>
    <small class="dont-index">Source: <a href='https://github.com/marlonecobos/rangemap/blob/master/R/rangemap_tsa.R'><code>R/rangemap_tsa.R</code></a></small>
    <div class="hidden name"><code>rangemap_tsa.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>rangemap_tsa generates a distributional range for a given species
using a trend surface analysis. An approach to the species extent of occurrence
(using convex hulls) and the area of occupancy according to the IUCN criteria
is also generated. Shapefiles can be saved in the working directory if it is
needed.</p>
    </div>

    <pre class="usage"><span class='fu'>rangemap_tsa</span><span class='op'>(</span><span class='va'>occurrences</span>, <span class='va'>region_of_interest</span>, cell_size <span class='op'>=</span> <span class='fl'>5</span>,
             threshold <span class='op'>=</span> <span class='fl'>0</span>, simplify <span class='op'>=</span> <span class='cn'>FALSE</span>, simplify_level <span class='op'>=</span> <span class='fl'>0</span>,
             extent_of_occurrence <span class='op'>=</span> <span class='cn'>TRUE</span>, area_of_occupancy <span class='op'>=</span> <span class='cn'>TRUE</span>,
             final_projection <span class='op'>=</span> <span class='cn'>NULL</span>, save_shp <span class='op'>=</span> <span class='cn'>FALSE</span>,
             save_ts_layer <span class='op'>=</span> <span class='cn'>FALSE</span>, <span class='va'>name</span>, overwrite <span class='op'>=</span> <span class='cn'>FALSE</span>, verbose <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>occurrences</th>
      <td><p>a data.frame containing geographic coordinates of species
occurrences, columns must be: Species, Longitude, and Latitude. Geographic
coordinates must be in decimal degrees  (WGS84).</p></td>
    </tr>
    <tr>
      <th>region_of_interest</th>
      <td><p>a SpatialPolygonsDataFrame object on which the trend
surface analysis will be performed. For instance, a country, an ecoregion, or
a biogeographic region. Projection must be WGS84 (EPSG:4326).</p></td>
    </tr>
    <tr>
      <th>cell_size</th>
      <td><p>(numeric) vector of length 1 or 2, defining the size of cells
(km) at which the resultant trend surface will be created; default = 5.
<code>cell_size</code> will depend on the extent of <code>region_of_interest</code>.
Values lower than 1 are only recommended when the species is locally distributed.</p></td>
    </tr>
    <tr>
      <th>threshold</th>
      <td><p>(numeric) percentage of occurrence records to be excluded
when deciding the minimum value trend surface output to be considered as part
of the species range. Default = 0.</p></td>
    </tr>
    <tr>
      <th>simplify</th>
      <td><p>(logical) if <code>TRUE</code>, polygons of suitable areas will be
simplified at a tolerance defined in <code>simplify_level</code>. Default =
<code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>simplify_level</th>
      <td><p>(numeric) tolerance at the moment of simplifying polygons
created using the trend surface model. Lower values will produce polygons more
similar to the original geometry. Default = 0. If simplifying is needed, try
numbers between 0 and 1 first.</p></td>
    </tr>
    <tr>
      <th>extent_of_occurrence</th>
      <td><p>(logical) whether to obtain the extent of occurrence
of the species based on a simple convex hull polygon; default = <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>area_of_occupancy</th>
      <td><p>(logical) whether to obtain the area of occupancy
of the species based on a simple grid of 4 km^2 resolution;
default = <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>final_projection</th>
      <td><p>(character) string of projection arguments for resulting
Spatial objects. Arguments must be as in the PROJ.4 documentation. See
<code><a href='https://rdrr.io/pkg/sp/man/CRS-class.html'>CRS-class</a></code> for details. If <code>NULL</code>, the default, projection
used is WGS84 (EPSG:4326).</p></td>
    </tr>
    <tr>
      <th>save_shp</th>
      <td><p>(logical) if <code>TRUE</code>, shapefiles of the species range,
occurrences, extent of occurrence, and area of occupancy will be written in
the working directory. Default = <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>save_ts_layer</th>
      <td><p>(logical) if <code>TRUE</code>, the TSA layer will be included
as part of the object returned. If <code>save_shp</code> = TRUE, the TSA layer will
be written in GeoTiff format. Default = <code>FALSE</code></p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>(character) valid if <code>save_shp</code> = TRUE. The name of the
geographic files to be exported. A suffix will be added to <code>name</code>
depending on the object as follows: species extent of occurrence = "_extent_occ",
area of occupancy = "_area_occ", occurrences = "_unique_records", and,
if <code>save_ts_layer</code> = <code>TRUE</code>, trend surface layer "_tsa".</p></td>
    </tr>
    <tr>
      <th>overwrite</th>
      <td><p>(logical) whether or not to overwrite previous results with
the same name. Default = <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>(logical) whether or not to print messages about the process.
Default = TRUE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A sp_range object (S4) containing: (1) a data.frame with information about
the species range, and SpatialPolygons objects of (2) unique occurrences,
(3) species range, (4) extent of occurrence, and (5) area of occupancy.
If <code>save_ts_layer</code> = TRUE, a (6) TSA layer will be included as well.</p>
<p>If <code>extent_of_occurrence</code> and/or <code>area_of_occupancy</code> = <code>FALSE</code>,
the corresponding spatial objects in the resulting sp_range object will be
empty, an areas will have a value of 0.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>All resulting Spatial objects in the results will be projected to the
<code>final_projection</code>. Areas are calculated in square kilometers using the
Lambert Azimuthal Equal Area projection, centered on the centroid of occurrence
points given as inputs.</p>
<p>Trend surface analysis is a method based on low-order polynomials of spatial
coordinates for estimating a regular grid of points from scattered observations.
This method assumes that all cells not occupied by occurrences are absences;
hence its use depends on the quality of data and the certainty of having or
not a complete sampling of the <code>regiong_of_interest</code>.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"occ_f"</span>, package <span class='op'>=</span> <span class='st'>"rangemap"</span><span class='op'>)</span>

<span class='va'>CU</span> <span class='op'>&lt;-</span> <span class='fu'><a href='simple_wmap.html'>simple_wmap</a></span><span class='op'>(</span><span class='st'>"simple"</span>, regions <span class='op'>=</span> <span class='st'>"Cuba"</span><span class='op'>)</span>

<span class='co'># running</span>
<span class='va'>tsa_range</span> <span class='op'>&lt;-</span> <span class='fu'>rangemap_tsa</span><span class='op'>(</span>occurrences <span class='op'>=</span> <span class='va'>occ_f</span>, region_of_interest <span class='op'>=</span> <span class='va'>CU</span>,
                          cell_size <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: CRS object has comment, which is lost in output</span></div><div class='input'>
<span class='fu'><a href='summary.html'>summary</a></span><span class='op'>(</span><span class='va'>tsa_range</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt;                       Summary of sp_range_iucn object
#&gt; ---------------------------------------------------------------------------
#&gt; 
#&gt; Species range derived from:	TSA 
#&gt; 
#&gt;               Species Unique_records Range_area Extent_of_occurrence
#&gt;  Peltophryne fustiger             18       6825             1630.968
#&gt;  Area_of_occupancy
#&gt;                 48
#&gt; 
#&gt; 
#&gt; 
#&gt; Other contents:
#&gt; </div><div class='output co'>#&gt;                        Length Class                    Mode
#&gt; species_range           1     SpatialPolygonsDataFrame S4  
#&gt; species_unique_records 18     SpatialPointsDataFrame   S4  
#&gt; extent_of_occurrence    1     SpatialPolygonsDataFrame S4  
#&gt; area_of_occupancy      12     SpatialPolygonsDataFrame S4  </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Marlon E. Cobos, Vijay Barve, Narayani Barve, Alberto Jimenez-Valverde, Claudia Nuñez-Penichet.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


