<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Finds clusters for SpatialPointsDataFrame based on distinct methods — clusters • rangemap</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Finds clusters for SpatialPointsDataFrame based on distinct methods — clusters" />
<meta property="og:description" content="Finds clusters for SpatialPointsDataFrame based on distinct methods" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rangemap</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.17</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/rangemap_short_tutorial_I.html">rangemap short tutorial I</a>
    </li>
    <li>
      <a href="../articles/rangemap_short_tutorial_II.html">rangemap short tutorial II</a>
    </li>
    <li>
      <a href="../articles/rangemap_short_tutorial_III.html">rangemap short tutorial III</a>
    </li>
    <li>
      <a href="../articles/rangemap_short_tutorial_IV.html">rangemap short tutorial IV</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/marlonecobos/rangemap/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Finds clusters for SpatialPointsDataFrame based on distinct methods</h1>
    <small class="dont-index">Source: <a href='https://github.com/marlonecobos/rangemap/blob/master/R/helpers.R'><code>R/helpers.R</code></a></small>
    <div class="hidden name"><code>clusters.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Finds clusters for SpatialPointsDataFrame based on distinct methods</p>
    </div>

    <pre class="usage"><span class='fu'>clusters</span><span class='op'>(</span><span class='va'>occ_pr</span>, cluster_method <span class='op'>=</span> <span class='st'>"hierarchical"</span>, <span class='va'>split_distance</span>,
         <span class='va'>n_k_means</span>, set_seed <span class='op'>=</span> <span class='fl'>1</span>, verbose <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>occ_pr</th>
      <td><p>SpatialPointsDataFrame of occurrence records. Projection must be
one that allows safe calculation of distances (e.g., Azimuthal equidistant)</p></td>
    </tr>
    <tr>
      <th>cluster_method</th>
      <td><p>(character) name of the method to be used for clustering
the occurrences. Options are "hierarchical" and "k-means"; default = "hierarchical".
See details for more information on the two available methods.</p></td>
    </tr>
    <tr>
      <th>split_distance</th>
      <td><p>(numeric) distance in meters that will limit connectivity
among hull polygons created with chunks of points separated by long distances.
This parameter is used when <code>cluster_method</code> = "hierarchical".</p></td>
    </tr>
    <tr>
      <th>n_k_means</th>
      <td><p>(numeric) number of clusters in which the species occurrences
will be grouped when using the "k-means" <code>cluster_method</code>.</p></td>
    </tr>
    <tr>
      <th>set_seed</th>
      <td><p>(numeric) integer value to specify a seed. Default = 1.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>(logical) whether or not to print messages about the process.
Default = TRUE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A SpatialPointsDataFrame with an extra column in data defining clusters.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>cluster_method</code> must be chosen based on the spatial configuration of the
species occurrences. Both methods make distinct assumptions and one of them may
perform better than the other depending on the spatial pattern of the data.</p>
<p>The k-means method, for example, performs better when the following assumptions
are fulfilled: Clusters are spatially grouped—or “spherical” and Clusters are
of a similar size. Owing to the nature of the hierarchical clustering algorithm
it may take more time than the k-means method. Both methods make assumptions
and they may work well on some data sets, and fail on others.</p>
<p>Another important factor to consider is that the k-means method always starts
with a random choice of cluster centers, thus it may end in different results
on different runs. That may be problematic when trying to replicate your methods.
With hierarchical clustering, most likely the same clusters can be obtained if
the process is repeated.</p>
<p>For more information on these clustering methods see Aggarwal and Reddy (2014)
<a href='https://goo.gl/RQ2ebd'>https://goo.gl/RQ2ebd</a>.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"occ_p"</span>, package <span class='op'>=</span> <span class='st'>"rangemap"</span><span class='op'>)</span>

<span class='co'># preparing spatial points</span>
<span class='va'>occ</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/raster/man/as.data.frame.html'>as.data.frame</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/unique.html'>unique</a></span><span class='op'>(</span><span class='va'>occ_p</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>WGS84</span> <span class='op'>&lt;-</span> <span class='fu'>sp</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sp/man/CRS-class.html'>CRS</a></span><span class='op'>(</span><span class='st'>"+init=epsg:4326"</span><span class='op'>)</span>
<span class='va'>occ_sp</span> <span class='op'>&lt;-</span> <span class='fu'>sp</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sp/man/SpatialPoints.html'>SpatialPointsDataFrame</a></span><span class='op'>(</span>coords <span class='op'>=</span> <span class='va'>occ</span><span class='op'>[</span>, <span class='fl'>2</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>, data <span class='op'>=</span> <span class='va'>occ</span>,
                                     proj4string <span class='op'>=</span> <span class='va'>WGS84</span><span class='op'>)</span>

<span class='co'># reprojecting for measuring distances</span>
<span class='va'>LAEA</span> <span class='op'>&lt;-</span> <span class='fu'><a href='LAEA_projection.html'>LAEA_projection</a></span><span class='op'>(</span>spatial_object <span class='op'>=</span> <span class='va'>occ_sp</span><span class='op'>)</span>
<span class='va'>occ_pr</span> <span class='op'>&lt;-</span> <span class='fu'>sp</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sp/man/spTransform.html'>spTransform</a></span><span class='op'>(</span><span class='va'>occ_sp</span>, <span class='va'>LAEA</span><span class='op'>)</span>

<span class='co'># clustering</span>
<span class='va'>occ_clus</span> <span class='op'>&lt;-</span> <span class='fu'>clusters</span><span class='op'>(</span><span class='va'>occ_pr</span>, cluster_method <span class='op'>=</span> <span class='st'>"k-means"</span>, n_k_means <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Clustering method: k-means</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Marlon E. Cobos, Vijay Barve, Narayani Barve, Alberto Jimenez-Valverde, Claudia Nuñez-Penichet.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


