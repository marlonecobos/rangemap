<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Species distributional ranges based on convex or concave hull polygons — rangemap_hull • rangemap</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Species distributional ranges based on convex or concave hull polygons — rangemap_hull" />
<meta property="og:description" content="rangemap_hull generates a distributional range for a given species
by creating convex or concave hull polygons based on occurrence data.
Optionally, representations of the species extent of occurrence (using convex
hulls) and the area of occupancy according to the IUCN criteria can also be
generated. Shapefiles can be saved in the working directory if it is needed." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rangemap</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.18</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/rangemap_short_tutorial_I.html">rangemap short tutorial I</a>
    </li>
    <li>
      <a href="../articles/rangemap_short_tutorial_II.html">rangemap short tutorial II</a>
    </li>
    <li>
      <a href="../articles/rangemap_short_tutorial_III.html">rangemap short tutorial III</a>
    </li>
    <li>
      <a href="../articles/rangemap_short_tutorial_IV.html">rangemap short tutorial IV</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/marlonecobos/rangemap/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Species distributional ranges based on convex or concave hull polygons</h1>
    <small class="dont-index">Source: <a href='https://github.com/marlonecobos/rangemap/blob/master/R/rangemap_hull.R'><code>R/rangemap_hull.R</code></a></small>
    <div class="hidden name"><code>rangemap_hull.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>rangemap_hull generates a distributional range for a given species
by creating convex or concave hull polygons based on occurrence data.
Optionally, representations of the species extent of occurrence (using convex
hulls) and the area of occupancy according to the IUCN criteria can also be
generated. Shapefiles can be saved in the working directory if it is needed.</p>
    </div>

    <pre class="usage"><span class='fu'>rangemap_hull</span><span class='op'>(</span><span class='va'>occurrences</span>, hull_type <span class='op'>=</span> <span class='st'>"convex"</span>, concave_distance_lim <span class='op'>=</span> <span class='fl'>5000</span>,
              buffer_distance <span class='op'>=</span> <span class='fl'>50000</span>, split <span class='op'>=</span> <span class='cn'>FALSE</span>,
              cluster_method <span class='op'>=</span> <span class='st'>"hierarchical"</span>, split_distance <span class='op'>=</span> <span class='cn'>NULL</span>,
              n_k_means <span class='op'>=</span> <span class='cn'>NULL</span>, polygons <span class='op'>=</span> <span class='cn'>NULL</span>, extent_of_occurrence <span class='op'>=</span> <span class='cn'>TRUE</span>,
              area_of_occupancy <span class='op'>=</span> <span class='cn'>TRUE</span>, final_projection <span class='op'>=</span> <span class='cn'>NULL</span>,
              save_shp <span class='op'>=</span> <span class='cn'>FALSE</span>, <span class='va'>name</span>, overwrite <span class='op'>=</span> <span class='cn'>FALSE</span>, verbose <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>occurrences</th>
      <td><p>a data.frame containing geographic coordinates of species
occurrences, columns must be: Species, Longitude, and Latitude. Geographic
coordinates must be in decimal degrees  (WGS84).</p></td>
    </tr>
    <tr>
      <th>hull_type</th>
      <td><p>(character) type of hull polygons to be created. Available
options are: "convex" and "concave". Default = "convex".</p></td>
    </tr>
    <tr>
      <th>concave_distance_lim</th>
      <td><p>(numeric) distance, in meters, to be passed to the
length_threshold parameter of the <code><a href='https://joelgombin.github.io/concaveman/reference/concaveman.html'>concaveman</a></code> function.
Default = 5000. Ignored if <code>hull_type</code> is not "concave".</p></td>
    </tr>
    <tr>
      <th>buffer_distance</th>
      <td><p>(numeric) distance, in meters, to be used for creating
a buffer around resulting hull polygons; default = 50000.</p></td>
    </tr>
    <tr>
      <th>split</th>
      <td><p>(logical) if <code>TRUE</code>, a distance (for hierarchical clustering)
or a number (for K-means clustering) is used to separate distinct chunks of
occurrences. Recommended when the species of interest has a disjunct
distribution. Default = <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>cluster_method</th>
      <td><p>(character) name of the method to be used for clustering
the occurrences. Options are "hierarchical" and "k-means"; default =
"hierarchical". Note that this parameter is ignored when <code>split</code> =
<code>FALSE</code>. See details for more information on the two available methods.</p></td>
    </tr>
    <tr>
      <th>split_distance</th>
      <td><p>(numeric) distance in meters that will limit connectivity
among hull polygons created with chunks of points separated by long distances.
This parameter is used when <code>cluster_method</code> = "hierarchical" and
<code>split</code> = <code>TRUE</code>. Default = <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>n_k_means</th>
      <td><p>(numeric) if <code>split</code> = <code>TRUE</code>, number of clusters
in which the species occurrences will be grouped when using the "k-means"
<code>cluster_method</code>. Default = <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>polygons</th>
      <td><p>(optional) a SpatialPolygons* object to clip polygons and
adjust the species range and other polygons to these limits. Projection must
be WGS84 (EPSG:4326). If <code>NULL</code>, the default, a simplified world map will
be used.</p></td>
    </tr>
    <tr>
      <th>extent_of_occurrence</th>
      <td><p>(logical) whether to obtain the extent of occurrence
of the species based on a simple convex hull polygon; default = <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>area_of_occupancy</th>
      <td><p>(logical) whether to obtain the area of occupancy
of the species based on a simple grid of 4 km^2 resolution;
default = <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>final_projection</th>
      <td><p>(character) string of projection arguments for resulting
Spatial objects. Arguments must be as in the PROJ.4 documentation. See
<code><a href='https://rdrr.io/pkg/sp/man/CRS-class.html'>CRS-class</a></code> for details. If <code>NULL</code>, the default, projection
used is WGS84 (EPSG:4326).</p></td>
    </tr>
    <tr>
      <th>save_shp</th>
      <td><p>(logical) if <code>TRUE</code>, shapefiles of the species range,
occurrences, extent of occurrence, and area of occupancy will be written in
the working directory. Default = <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>(character) valid if <code>save_shp</code> = <code>TRUE</code>. The name of
the shapefile to be exported. A suffix will be added to <code>name</code> depending
on the object, as follows: species extent of occurrence = "_extent_occ", area
of occupancy = "_area_occ", and occurrences = "_unique_records".</p></td>
    </tr>
    <tr>
      <th>overwrite</th>
      <td><p>(logical) whether or not to overwrite previous results with
the same name. Default = <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>(logical) whether or not to print messages about the process.
Default = TRUE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A sp_range object (S4) containing: (1) a data.frame with information about the
species range, and Spatial objects of (2) unique occurrences, (3) species range,
(4) extent of occurrence, and (5) area of occupancy.</p>
<p>If <code>extent_of_occurrence</code> and/or <code>area_of_occupancy</code> = <code>FALSE</code>,
the corresponding spatial objects in the resulting sp_range object will be
empty, an areas will have a value of 0.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>All resulting Spatial objects in the results will be projected to the
<code>final_projection</code>. Areas are calculated in square kilometers using the
Lambert Azimuthal Equal Area projection, centered on the centroid of occurrence
points given as inputs.</p>
<p>If <code>split</code> = <code>TRUE</code>, some point clusters may end up having less than
three points, in which cases creating hull polygons is not possible. Such
point clusters will be discarded if <code>buffer_distance</code> = 0. To keep them
as part of the final result, use a <code>buffer_distance</code> &gt; 0.</p>
<p>The <code>cluster_method</code> must be chosen based on the spatial configuration of
the species occurrences. Both methods make distinct assumptions and one of
them may perform better than the other depending on the spatial pattern of the
data.</p>
<p>The k-means method, for example, performs better when the following assumptions
are fulfilled: Clusters are spatially grouped—or “spherical” and Clusters are
of a similar size. Owing to the nature of the hierarchical clustering algorithm
it may take more time than the k-means method. Both methods make assumptions
and they may work well on some data sets, and fail on others.</p>
<p>Another important factor to consider is that the k-means method always starts
with a random choice of cluster centers, thus it may end in different results
on different runs. That may be problematic when trying to replicate your
methods. With hierarchical clustering, most likely the same clusters can be
obtained if the process is repeated.</p>
<p>For more information on these clustering methods see Aggarwal and Reddy (2014),
<a href='https://goo.gl/RQ2ebd'>here</a>.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='co'># getting the data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"occ_d"</span>, package <span class='op'>=</span> <span class='st'>"rangemap"</span><span class='op'>)</span>

<span class='co'># other info for running</span>
<span class='va'>dist</span> <span class='op'>&lt;-</span> <span class='fl'>100000</span>
<span class='va'>hull</span> <span class='op'>&lt;-</span> <span class='st'>"convex"</span> <span class='co'># try also "concave"</span>

<span class='va'>hull_range</span> <span class='op'>&lt;-</span> <span class='fu'>rangemap_hull</span><span class='op'>(</span>occurrences <span class='op'>=</span> <span class='va'>occ_d</span>, hull_type <span class='op'>=</span> <span class='va'>hull</span>,
                            buffer_distance <span class='op'>=</span> <span class='va'>dist</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Hull type: convex</span></div><div class='input'>
<span class='fu'><a href='summary.html'>summary</a></span><span class='op'>(</span><span class='va'>hull_range</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt;                       Summary of sp_range_iucn object
#&gt; ---------------------------------------------------------------------------
#&gt; 
#&gt; Species range derived from:	Convex_hull 
#&gt; 
#&gt;           Species Unique_records Range_area Extent_of_occurrence
#&gt;  Dasypus kappleri             56    4860934              4095146
#&gt;  Area_of_occupancy
#&gt;                184
#&gt; 
#&gt; 
#&gt; 
#&gt; Other contents:
#&gt; </div><div class='output co'>#&gt;                        Length Class                    Mode
#&gt; species_range           6     SpatialPolygonsDataFrame S4  
#&gt; species_unique_records 56     SpatialPointsDataFrame   S4  
#&gt; extent_of_occurrence    1     SpatialPolygonsDataFrame S4  
#&gt; area_of_occupancy      46     SpatialPolygonsDataFrame S4  </div><div class='input'><span class='co'># }</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Marlon E. Cobos, Vijay Barve, Narayani Barve, Alberto Jimenez-Valverde, Claudia Nuñez-Penichet.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


